{% extends 'core/base.html' %}
{% load static %}

{% block section %}
    {% include 'pedido/components/opciones_pedidos.html' %}

    <h1>Listado de Pedidos</h1>

    {% if object_list %}
        {% for pedido in object_list %}
            <div class="pedido">
                <h2>Pedido: {{ pedido.id }}</h2>
                <p>Estado: <span style="color: red;">{{ pedido.estado }}</span></p>
                <p>Hora: {{ pedido.hora|time:"H:i" }}</p>
                <p>Dirección: {{ pedido.direccion }}</p>
                <p>Observación: {{ pedido.observacion }}</p>
                <p>Cliente: {{ pedido.cliente }}</p>

                <h3>Productos:</h3>
                <ul>
                    {% for pedido_producto in pedido.pedidoproducto_set.all %}
                        <li>{{ pedido_producto.cantidad }} {{ pedido_producto.producto.nombre }}</li>
                    {% endfor %}
                </ul>

                <p><strong>TOTAL:</strong> {{ pedido.precio_total }} {{ pedido.pago }}</p>
                <hr>
            </div>
        {% endfor %}
    {% else %}
        <p>No hay pedidos para mostrar.</p>
    {% endif %}
    
    
{% endblock section %}


    






